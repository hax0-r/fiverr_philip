<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Triggered Counter</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>


<body class="bg-gray-100">


    <div class="max-w-6xl w-full mx-auto p-4 md:py-24 py-12">
        <div class="grid md:grid-cols-4 sm:grid-cols-2 grid-cols-1 gap-x-5 gap-y-12">

            <div class="w-full border border-[#f6bf5d] relative p-5 rounded-lg py-16">
                <h2 id="counter1" class="text-center text-5xl font-semibold text-[#f7b643]">0</h2>
                <p class="text-center text-gray-800 font-medium pt-3">Objednávok</p>
                <img src="./Docs/Assets/coins.webp" class="h-28 absolute -bottom-12 left-1/2 -translate-x-1/2" alt="">
            </div>

            <div class="w-full border border-[#f6bf5d] relative p-5 rounded-lg py-16">
                <h2 id="counter2" class="text-center text-5xl font-semibold text-[#f7b643]">0</h2>
                <p class="text-center text-gray-800 font-medium pt-3">Zákazníkov</p>
                <img src="./Docs/Assets/kingEmoji.webp" class="h-28 absolute -bottom-12 left-1/2 -translate-x-1/2" alt="">
            </div>

            <div class="w-full border border-[#f6bf5d] relative p-5 rounded-lg py-16">
                <h2 id="counter3" class="text-center text-5xl font-semibold text-[#f7b643]">0</h2>
                <p class="text-center text-gray-800 font-medium pt-3">Predaných produktov</p>
                <img src="./Docs/Assets/silverCoins.webp" class="h-28 absolute -bottom-12 left-1/2 -translate-x-1/2"
                    alt="">
            </div>

            <div class="w-full border border-[#f6bf5d] relative p-5 rounded-lg py-16">
                <h2 id="counter4" class="text-center text-5xl font-semibold text-[#f7b643]">0</h2>
                <p class="text-center text-gray-800 font-medium pt-3">Zisk</p>
                <img src="./Docs/Assets/tradeEmoji.webp" class="h-28 absolute -bottom-12 left-1/2 -translate-x-1/2"
                    alt="">
            </div>

        </div>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        const counters = [
            { id: '#counter1', endValue: 900 },
            { id: '#counter2', endValue: 800 },
            { id: '#counter3', endValue: 5000 },
            { id: '#counter4', endValue: 100 }, // Using 100 for demonstration; replace with your value.
        ];

        counters.forEach(counter => {
            let elem = document.querySelector(counter.id);

            gsap.fromTo(elem, 
                { innerText: 0 }, 
                {
                    innerText: counter.endValue,
                    duration: 2,
                    scrollTrigger: {
                        trigger: elem,
                        start: "top 80%", // Starts when the element reaches 80% of the viewport
                        once: true, // Play the animation only once
                    },
                    snap: { innerText: 1 }, // Ensure whole numbers
                    onUpdate: function () {
                        elem.innerText = Math.floor(elem.innerText); // Ensure integers during animation
                    }
                }
            );
        });
    </script>

</body>

</html>
